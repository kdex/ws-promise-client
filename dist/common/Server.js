"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _get=function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;a=u=c=void 0,o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(s)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;e=u,t=i,r=s,o=!0}},_ws=require("ws"),_EventEmitterJs=require("./EventEmitter.js"),_ServerClientJs=require("./ServerClient.js"),Server=function(e){function t(e){var r=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.wss=new _ws["default"].Server(e);for(var o=["error","headers","connection"],n=function(){var e=o[i];r.wss.on(e,function(t){var o=new _ServerClientJs["default"](t);r.emit(e,o)})},i=0;i<o.length;i++)n()}return _inherits(t,e),t}(_EventEmitterJs["default"]);exports.Server=Server,exports["default"]=Server;