define(["exports","ws","./EventEmitter.js","./ServerClient.js"],function(t,e,r,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t,e,r){for(var o=!0;o;){var n=t,i=e,u=r;c=f=a=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,i);if(void 0!==c){if("value"in c)return c.value;var a=c.get;return void 0===a?void 0:a.call(u)}var f=Object.getPrototypeOf(n);if(null===f)return void 0;t=f,e=i,r=u,o=!0}},c=function(t){function r(t){var i=this;n(this,r),u(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.wss=new e["default"].Server(t);for(var c=["error","headers","connection"],a=function(){var t=c[f];i.wss.on(t,function(e){var r=new o["default"](e);i.emit(t,r)})},f=0;f<c.length;f++)a()}return i(r,t),r}(r["default"]);t.Server=c,t["default"]=c});